<!-- templates/layout.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Verdant{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body class="{% block body_class %}{% endblock %}">

  <!-- NAV BAR -->
  <nav class="navbar">
    <div class="nav-left">
      <a href="{{ url_for('home') }}">
        <img src="{{ url_for('static', filename='Screenshot_2025-01-03_at_7.28.24_PM-removebg-preview.png') }}" 
             alt="Verdant Logo" class="logo" />
      </a>
      <h1 class="site-title">Verdant</h1>
    </div>

    <div class="nav-right">
      <a href="{{ url_for('home') }}" class="{% if request.endpoint == 'home' %}active{% endif %}">Home</a>
      <a href="{{ url_for('login') }}" class="{% if request.endpoint == 'login' %}active{% endif %}">Login</a>
      <a href="{{ url_for('register') }}" class="{% if request.endpoint == 'register' %}active{% endif %}">Register</a>
      <a href="{{ url_for('generate_schedule_view') }}" class="{% if request.endpoint == 'generate_schedule_view' %}active{% endif %}">Generate Schedule</a>
      <a href="{{ url_for('saved_schedules') }}" class="{% if request.endpoint in ['saved_schedules', 'view_schedule'] %}active{% endif %}">Schedules</a>
      <a href="{{ url_for('logout') }}" class="{% if request.endpoint == 'logout' %}active{% endif %}">Logout</a>
    </div>
  </nav>

  <!-- HERO SECTION -->
  {% block hero_section %}
  <header class="hero-section">
    <div class="hero-content">
      <h2>Welcome to Verdant</h2>
      <p>Plan your garden with tailored planting schedules.</p>
      <a href="{{ url_for('generate_schedule_view') }}" class="cta-button">Generate a Schedule</a>
    </div>
  </header>
  {% endblock %}

  <!-- MAIN CONTENT -->
  <main>
    <div class="container fade-in-animation">
      {% block content %}
      {% endblock %}
    </div>
  </main>

  <button id="back-to-top" class="back-to-top" aria-label="Back to top">↑</button>

  <!-- FOOTER -->
  <footer class="footer">
    <p>© 2025 Verdant. All rights reserved.</p>
  </footer>
  <script>
  const backBtn = document.getElementById('back-to-top');
  window.addEventListener('scroll', () => {
    backBtn.classList.toggle('show', window.scrollY > 300);
  });
  backBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  const revealElems = document.querySelectorAll('.reveal');


  const cards = document.querySelectorAll('.feature-card');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.2 });
  revealElems.forEach(el => observer.observe(el));

  const slides = document.querySelectorAll('.slide');
  let currentSlide = 0;
  function showSlide(index) {
    slides.forEach((s, i) => {
      s.classList.toggle('active', i === index);
    });
  }
  if (slides.length) {
    showSlide(currentSlide);
    setInterval(() => {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }, 5000);
  }


  cards.forEach(card => observer.observe(card));
  </script>

</body>
</html>
